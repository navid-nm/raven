{
   "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
   "name": "Raven",
   "patterns": [
      {
         "include": "#comments"
      },
      {
         "include": "#keywords"
      },
      {
         "include": "#functions"
      },
      {
         "include": "#strings"
      },
      {
         "include": "#template-literals"
      },
      {
         "include": "#try-catch"
      },
      {
         "include": "#type-hints"
      }
   ],
   "repository": {
      "comments": {
         "patterns": [
            {
               "name": "comment.line.double-slash.raven",
               "match": "//.*$"
            },
            {
               "name": "comment.line.typehint.raven",
               "match": "\\|\\|\\s*\\w+\\s*->\\s*\\w+"
            }
         ]
      },
      "keywords": {
         "patterns": [
            {
               "name": "keyword.control.raven",
               "match": "\\b(if|while|for|open|abbrev|closed|stat|return|fn|xconst|xset|xlet|die|tmp|init|elif|else|raw|new|enum|class|init|async|await|wait|win|const|doc|let|var|say|warn|import|do|then|panic|end|break|in|use|foreach|onready)\\b"
            }
         ]
      },
      "functions": {
         "patterns": [
            {
               "name": "entity.name.function.raven",
               "match": "\\bfn\\s+\\w+\\s*\\([^\\)]*\\)"
            }
         ]
      },
      "strings": {
         "name": "string.quoted.double.raven",
         "begin": "\"",
         "end": "\"",
         "patterns": [
            {
               "name": "constant.character.escape.raven",
               "match": "\\\\."
            }
         ]
      },
      "template-literals": {
         "name": "string.quoted.template.raven",
         "begin": "@\"",
         "end": "\"",
         "patterns": [
            {
               "name": "constant.character.escape.raven",
               "match": "\\\\."
            }
         ]
      },
      "try-catch": {
         "patterns": [
            {
               "name": "keyword.control.trycatch.raven",
               "match": "\\b(try|die)\\b"
            }
         ]
      },
      "type-hints": {
         "patterns": [
            {
               "name": "meta.typehint.raven",
               "begin": "\\|\\|\\s*\\w+\\s*->\\s*\\w+",
               "end": "(?=\\n|$)",
               "patterns": [
                  {
                     "name": "keyword.operator.typehint.raven",
                     "match": "->"
                  },
                  {
                     "name": "variable.parameter.typehint.raven",
                     "match": "\\|\\|\\s*\\w+",
                     "captures": {
                        "0": {
                           "name": "variable.parameter.typehint.raven"
                        }
                     }
                  },
                  {
                     "name": "storage.type.typehint.raven",
                     "match": "\\w+$"
                  }
               ]
            }
         ]
      }
   },
   "scopeName": "source.raven"
}
